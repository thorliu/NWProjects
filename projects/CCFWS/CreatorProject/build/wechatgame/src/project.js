require=function i(a,s,u){function c(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[e]={exports:{}};a[e][0].call(o.exports,function(t){return c(a[e][1][t]||t)},o,o.exports,i,a,s,u)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({FWSComponent:[function(t,e,n){"use strict";cc._RF.push(e,"6bdf3qrlVZAPpPBQS4mVQtC","FWSComponent"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,t("../mvc/FWSMvc")),a=t("../utils/X"),s=function(e){function t(){var t=e.call(this)||this;return t.mvcDelegate=new i.FMessageConnectionDelegate(t),t}return __extends(t,e),t.prototype.onEnable=function(){this.mvcDelegate.connect(),a.trace("onEnable")},t.prototype.onDisable=function(){this.mvcDelegate.disconnect(),a.trace("onDisable")},t=__decorate([o],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../mvc/FWSMvc":"FWSMvc","../utils/X":"X"}],FWSData:[function(require,module,exports){"use strict";var FWSData;cc._RF.push(module,"89ca3nwRmhH9q6EcA0Yk/TZ","FWSData"),function(FWSData){function getValueFromPath(source,path,defaultValue){try{return eval("source"+path)}catch(t){}return defaultValue}function getValueFromMember(t,e,n){if(!t)return n;var r=t[e];return void 0===r&&(r=n),r}function setValueFromPath(t,e,n,r){if(t&&n){for(var o=r.split("."),i=n,a=0;a<o.length-1;a++){var s=i[o[a]];if(null==s)return;i=s}var u=o[o.length-1],c=getValueFromPath(t,e,null);null!=c&&(i[u]=c)}}FWSData.getValueFromPath=getValueFromPath,FWSData.getValueFromMember=getValueFromMember,FWSData.setValueFromPath=setValueFromPath;var EventArgs=function(){function t(t){this._sender=t}return Object.defineProperty(t.prototype,"sender",{get:function(){return this._sender},enumerable:!0,configurable:!0}),t}();FWSData.EventArgs=EventArgs;var DataPropertyChangeEventArgs=function(a){function t(t,e,n,r,o){var i=a.call(this,t)||this;return i._source=e,i._propertyName=n,i._newValue=r,i._oldValue=o,i}return __extends(t,a),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),t}(EventArgs),DataCollectionChangeType,M;FWSData.DataPropertyChangeEventArgs=DataPropertyChangeEventArgs,M=DataCollectionChangeType=FWSData.DataCollectionChangeType||(FWSData.DataCollectionChangeType={}),M[M.Clear=0]="Clear",M[M.Add=1]="Add",M[M.Remove=2]="Remove",M[M.Modify=3]="Modify";var DataDictChangeEventArgs=function(s){function t(t,e,n,r,o,i){var a=s.call(this,t)||this;return a._source=n,a._key=r,a._oldValue=o,a._newValue=i,a._type=e,a}return __extends(t,s),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),t}(EventArgs);FWSData.DataDictChangeEventArgs=DataDictChangeEventArgs;var DataListChangeEventArgs=function(s){function t(t,e,n,r,o,i){var a=s.call(this,t)||this;return a._type=e,a._source=n,a._index=r,a._newValue=o,a._oldValue=i,a}return __extends(t,s),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),t}(EventArgs),DataBindMode,da;FWSData.DataListChangeEventArgs=DataListChangeEventArgs,da=DataBindMode=FWSData.DataBindMode||(FWSData.DataBindMode={}),da[da.Once=0]="Once",da[da.OneWay=1]="OneWay",da[da.TwoWay=2]="TwoWay";var DataBindLink=function(){function t(t,e,n,r,o){this._type=t,this._source=e,this._target=n,this._mode=r,this._options=o}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t}();FWSData.DataBindLink=DataBindLink;var DataBindManager=function(){function t(){this._links=new Array}return t.prototype.distEvent=function(t){for(var e=this._links.slice(0),n=0;n<e.length;n++){var r=e[n],o=this["on"+r.type+"Change"];o&&(t.sender===r.source?r.mode!==DataBindMode.TwoWay&&r.mode!==DataBindMode.OneWay||o.call(this,t,r,!1):t.sender===r.target&&r.mode===DataBindMode.TwoWay&&o.call(this,t,r,!0))}},t.prototype.add=function(t,e,n,r,o){var i=this.find(e,n);i||(i=new DataBindLink(t,e,n,r,o),this._links.push(i))},t.prototype.find=function(t,e){for(var n=0;n<this._links.length;n++){var r=this._links[n];if(r.source===t&&r.target===e)return r}return null},t.prototype.findSource=function(t){for(var e=0;e<this._links.length;e++){var n=this._links[e];if(n.source===t)return n}return null},t.prototype.findTarget=function(t){for(var e=0;e<this._links.length;e++){var n=this._links[e];if(n.target===t)return n}return null},t.prototype.getBindSources=function(t){for(var e=new Array,n=0;n<this._links.length;n++){var r=this._links[n];r.target===t&&e.push(r)}return e},t.prototype.getBindTargets=function(t){for(var e=new Array,n=0;n<this._links.length;n++){var r=this._links[n];r.source===t&&e.push(r)}return e},t.prototype.removeLinksBy=function(t,e){for(var n=this._links.length-1;0<=n;n--){var r=this._links[n];r.source===t&&r.target===e&&this._links.splice(n,1)}},t.prototype.removeLinksBySource=function(t){for(var e=this._links.length-1;0<=e;e--){this._links[e].source===t&&this._links.splice(e,1)}},t.prototype.removeLinksByTarget=function(t){for(var e=this._links.length-1;0<=e;e--){this._links[e].target===t&&this._links.splice(e,1)}},t.prototype.removeAll=function(){this._links.splice(0,this._links.length)},t.prototype.onPropertiesChange=function(t,e,n){var r=null,o=null,i="",a="";if(n)r=e.target,o=e.source,i=t.propertyName,a=e.options[i];else for(var s in r=e.source,o=e.target,i=t.propertyName,e.options){if(e.options[s]===i){a=s;break}}i&&a&&(o[a]=r[i])},t.prototype.onCollectionCallbackChange=function(t,e,n){"function"==typeof e.options&&(e.target&&e.options.call(e.target,t))},t.prototype.onListChange=function(t,e,n){if(e.source&&e.target)switch(t.type){case FWSData.DataCollectionChangeType.Clear:n&&e.source.clear();break;case FWSData.DataCollectionChangeType.Add:case FWSData.DataCollectionChangeType.Remove:case FWSData.DataCollectionChangeType.Modify:}},t.prototype.onDictChange=function(t,e,n){switch(t.type){case FWSData.DataCollectionChangeType.Clear:case FWSData.DataCollectionChangeType.Add:case FWSData.DataCollectionChangeType.Remove:case FWSData.DataCollectionChangeType.Modify:}},t}();function getDataBindManager(){return DataBindManager._isntance||(DataBindManager._isntance=new DataBindManager),DataBindManager._isntance}function copyProperties(t,e,n){if(n&&null!=t&&null!=e)for(var r in n){var o=n[r];e[r]=t[o]}}function copyList(t,e,n){if(t&&e&&t!==e&&t instanceof List&&e instanceof List){e.clear();for(var r=0;r<t.length;r++)e.add(t.at(r))}}function copyDict(t,e,n){if(t&&e&&t!==e&&t instanceof Dict&&e instanceof Dict)for(var r=t.keys,o=0;o<r.length;o++){var i=r[o],a=t.getItem(i);e.setItem(i,a)}}function bindProperties(t,e,n,r){t&&e&&t!==e&&(n!==DataBindMode.Once&&getDataBindManager().add("Properties",t,e,n,r),copyProperties(t,e,r))}function bindCollectionCallback(t,e,n){t&&e&&t!==e&&"function"==typeof n&&getDataBindManager().add("CollectionCallback",t,e,DataBindMode.OneWay,n)}function unbind(t,e){getDataBindManager().removeLinksBy(t,e)}function unbindBySource(t){getDataBindManager().removeLinksBySource(t)}function unbindByTarget(t){getDataBindManager().removeLinksByTarget(t)}FWSData.copyProperties=copyProperties,FWSData.copyList=copyList,FWSData.copyDict=copyDict,FWSData.bindProperties=bindProperties,FWSData.bindCollectionCallback=bindCollectionCallback,FWSData.unbind=unbind,FWSData.unbindBySource=unbindBySource,FWSData.unbindByTarget=unbindByTarget;var DependentProperties=function(){function t(t){this._owner=t,this._properties=new Object}return t.prototype.get=function(t,e){return this._properties.hasOwnProperty(t)?this._properties[t]:e},t.prototype.set=function(t,e){if(this._properties[t]===e)return!1;var n=this._properties[t];return this._properties[t]=e,getDataBindManager().distEvent(new DataPropertyChangeEventArgs(this._owner,this._owner,t,e,n)),!0},t.prototype.clear=function(){for(var t in this._properties)delete this._properties[t]},t.prototype.toJSON=function(){return JSON.stringify(this._properties)},t.prototype.fromJSON=function(t){try{this._properties=JSON.parse(t)}catch(t){}},t}();FWSData.DependentProperties=DependentProperties;var DependentObject=function(){function t(){this.__DP=new DependentProperties(this)}return t.prototype.get=function(t,e){return this.__DP.get(t,e)},t.prototype.set=function(t,e){return this.__DP.set(t,e)},t.prototype.clear=function(){this.__DP.clear()},t.prototype.toJSON=function(){return this.__DP.toJSON()},t.prototype.fromJSON=function(t){this.__DP.fromJSON(t)},t}();FWSData.DependentObject=DependentObject;var Dict=function(){function i(t){if(void 0===t&&(t=null),this._dict=new Object,t)for(var e in t){var n=t[e];this._dict[e]=n}}return i.prototype.getEnumerator=function(){return new DictEnumerator(this)},i.prototype.clone=function(t){var e=new i,n=this.keys;for(var r in n){var o=this.getItem[r];e.setItem(r,o)}return e},i.prototype.getItem=function(t){return this._dict[t]},i.prototype.setItem=function(t,e){if(this._dict[t]!==e)if(this.containKey(t)){var n=this._dict[t];this._dict[t]=e,getDataBindManager().distEvent(new DataDictChangeEventArgs(this,DataCollectionChangeType.Modify,this,t,n,e))}else this._dict[t]=e,getDataBindManager().distEvent(new DataDictChangeEventArgs(this,DataCollectionChangeType.Add,this,t,n,e))},i.prototype.deleteKey=function(t){if(this.containKey(t)){var e=this._dict[t];delete this._dict[t],getDataBindManager().distEvent(new DataDictChangeEventArgs(this,DataCollectionChangeType.Remove,this,t,e,null))}},i.prototype.containKey=function(t){return 0<=this.keys.indexOf(t)},i.prototype.containValue=function(t){return 0<=this.values.indexOf(t)},i.prototype.clear=function(){if(0!=this.count){for(var t in this._dict)delete this._dict[t];getDataBindManager().distEvent(new DataDictChangeEventArgs(this,DataCollectionChangeType.Clear,this,null,null,null))}},i.prototype.toObject=function(){var t=new Object;for(var e in this._dict){var n=this._dict[e];t[e]=n}return t},i.prototype.toString=function(){return"Dict "+JSON.stringify(this._dict)},Object.defineProperty(i.prototype,"keys",{get:function(){var t=new Array;for(var e in this._dict)t.push(e);return t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"values",{get:function(){var t=new Array;for(var e in this._dict)t.push(this._dict[e]);return t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"count",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),i}();FWSData.Dict=Dict;var DictEnumerator=function(){function t(t){this._dict=t,this.reset()}return t.prototype.reset=function(){this._keys=this._dict.keys,this._values=this._dict.values,this._index=0},t.prototype.moveNext=function(){this._index++},t.prototype.getCurrent=function(){return this._values[this._index]},t.prototype.end=function(){return!(this._dict&&this._values&&0<=this._index&&this._index<this._values.length)},t}();FWSData.DictEnumerator=DictEnumerator;var List=function(){function r(t,e){void 0===t&&(t=null),void 0===e&&(e=!1),this.eventEnabled=!1,this._list=null!=t?e?t.slice(0):t:new Array}return r.prototype.dump=function(t,e){if(void 0===e&&(e=""),t){e&&console.log("-- "+e+" --");for(var n=0;n<this._list.length;n++){var r=t(this._list[n]);null==r&&(r=""),console.log("list::dump",n,r)}}},r.prototype.sort=function(t){try{this._list.sort(t)}catch(t){}},r.prototype.clone=function(t){for(var e=new r,n=0;n<this._list.length;n++)e.add(this._list[n]);return e},r.prototype.sync=function(t){if(null!=t){for(var e=this._list.length-1;0<=e;e--){var n=this._list[e];t.indexOf(n)<0&&this.removeAt(e)}for(e=0;e<t.length;e++){n=t[e];this._list.indexOf(n)<0&&this.add(n)}}},r.prototype.getEnumerator=function(){return new ListEnumerator(this)},r.prototype.at=function(t){return 0<=t&&t<this._list.length?this._list[t]:null},r.prototype.modify=function(t,e){if(!(e<0||e>=this._list.length)&&this._list[e]!==t){var n=this._list[e];this._list[e]=t,getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Modify,this,e,t,n))}},r.prototype.add=function(t){return this._list.push(t),this.eventEnabled&&getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Add,this,this._list.length-1,t,null)),t},r.prototype.addArray=function(t){for(var e=0;e<t.length;e++)this.add(t[e]);return t.length},r.prototype.remove=function(t){var e=this._list.indexOf(t);if(!(e<0))return this._list.splice(e,1),this.eventEnabled&&getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Remove,this,e,null,t)),t},r.prototype.insert=function(t,e){if(0<this._list.length){if(e<0||e>this._list.length-1)return;this._list.splice(e,0,t)}else e=this._list.length,this._list.push(t);return this.eventEnabled&&getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Add,this,e,t,null)),t},r.prototype.removeAt=function(t){var e=this._list[t];return this._list.splice(t,1),this.eventEnabled&&getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Remove,this,t,null,e)),e},r.prototype.clear=function(){0!=this._list.length&&(this._list.splice(0,this._list.length),this.eventEnabled&&getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Clear,this,0,null,null)))},r.prototype.indexOf=function(t){return this._list.indexOf(t)},r.prototype.toArray=function(){return this._list.slice(0)},r.prototype.toString=function(){return"List ["+this._list.toString()+"]"},r.prototype.join=function(t){return this._list.join(t)},Object.defineProperty(r.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),r}();FWSData.List=List;var ListEnumerator=function(){function t(t){this._list=t,this.reset()}return t.prototype.reset=function(){this._index=0},t.prototype.moveNext=function(){this._index++},t.prototype.getCurrent=function(){return this._list.at(this._index)},t.prototype.end=function(){return!(this._list&&0<=this._index&&this._index<this._list.length)},t}();FWSData.ListEnumerator=ListEnumerator;var Queue=function(){function r(){this._list=new Array}return r.prototype.clone=function(t){for(var e=new r,n=0;n<this._list.length;n++)e.add(this._list[n]);return e},r.prototype.getEnumerator=function(){return new QueueEnumrator(this)},r.prototype.add=function(t){this._list.push(t),getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Add,this,this.length-1,t,null))},r.prototype.remove=function(){var t=null;return 0<this._list.length?(t=this._list.shift(),getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Remove,this,0,t,null)),t):null},r.prototype.clear=function(){this._list.splice(0,this._list.length),getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Clear,this,0,null,null))},r.prototype.toArray=function(){return this._list.slice(0)},r.prototype.toString=function(){return"Queue["+this._list.toString()+"]"},Object.defineProperty(r.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"current",{get:function(){return 0==this._list.length?null:this._list[0]},enumerable:!0,configurable:!0}),r}();FWSData.Queue=Queue;var QueueEnumrator=function(){function t(t){this._queue=t,this.reset()}return t.prototype.reset=function(){this._temp=this._queue.clone()},t.prototype.moveNext=function(){this._temp.remove()},t.prototype.getCurrent=function(){return this._temp.current},t.prototype.end=function(){return!(this._temp&&1<=this._temp.length)},t}();FWSData.QueueEnumrator=QueueEnumrator;var Node=function(){function o(t){this._nodes=new List,this._id=t}return o.prototype.getEnumerator=function(){return new NodeEnumrator(this)},o.prototype.clone=function(t){for(var e=new o(this._id),n=0;n<this._nodes.length;n++){var r=this._nodes.at(n);t&&(r=r.clone(t)),e.add(r)}return e},o.prototype.clear=function(){for(var t=0;t<this._nodes.length;t++){this._nodes[t]._parentNode=null}this._nodes.clear()},o.prototype.add=function(t){return(t._parentNode=this)._nodes.add(t)},o.prototype.insert=function(t,e){var n=t;return t._parentNode=this,n},o.prototype.remove=function(t){return t._parentNode=null,this._nodes.remove(t)},o.prototype.removeAt=function(t){var e=this._nodes.at(t);return this._nodes.removeAt(t),e._parentNode=null,e},o.prototype.removeFromParent=function(){this._parentNode&&this._parentNode.remove(this)},o.prototype.at=function(t){return this._nodes.at(t)},o.prototype.indexOf=function(t){return this._nodes.indexOf(t)},o.prototype.find=function(t){if(this._id===t)return this;for(var e=0;e<this._nodes.length;e++){var n=this._nodes.at(e);if(n.id===t)return n;var r=n.find(t);if(r)return r}return null},o.prototype.findData=function(t){if(this._data===t)return this;for(var e=0;e<this._nodes.length;e++){var n=this._nodes.at(e);if(n.data===t)return n;var r=n.findData(t);if(r)return r}return null},o.prototype.getParentNodes=function(){for(var t=new Array,e=this;e;)t.splice(0,0,e),e=e.parentNode;return t},o.prototype.getParentByOtherNode=function(t){for(var e=this.getParentNodes(),n=t.getParentNodes(),r=null,o=0;o<e.length;o++){var i=e[o],a=null;if(o<n.length&&(a=n[o]),i!==a)break;r=i}return r},Object.defineProperty(o.prototype,"firstChild",{get:function(){return 0<this._nodes.length?this._nodes.at(0):null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lastChild",{get:function(){return 0<this._nodes.length?this._nodes.at(this._nodes.length-1):null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"firstNode",{get:function(){return this._parentNode?this._parentNode.firstChild:null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"prevNode",{get:function(){if(this._parentNode){var t=this._parentNode.indexOf(this);if(0<t)return this._parentNode.at(t-1)}return null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nextNode",{get:function(){if(this._parentNode){var t=this._parentNode.indexOf(this);return t>=this._parentNode.length?null:t<0?null:this._parentNode.at(t+1)}return null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lastNode",{get:function(){return this._parentNode?this._parentNode.lastChild:null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),o.prototype.toString=function(){var t=this._data;return t||0===t||!1===t?"Node "+JSON.stringify(this._data):"Node {}"},Object.defineProperty(o.prototype,"length",{get:function(){return this._nodes.length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"parentNode",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"level",{get:function(){for(var t=0,e=this;e.parentNode;)e=e.parentNode,t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rootNode",{get:function(){for(var t=this;t.parentNode;)t=t.parentNode;return t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){for(var t=new Array,e=this;e;)t.splice(0,0,e.id),e=e.parentNode;return t.join("/")},enumerable:!0,configurable:!0}),o}();FWSData.Node=Node;var NodeEnumrator=function(){function t(t){this._node=t,this.reset()}return t.prototype.reset=function(){this._temp=this._node},t.prototype.moveNext=function(){if(this._temp.firstChild&&this._temp.firstChild!==this._temp)this._temp=this._temp.firstChild;else if(this._temp.nextNode&&this._temp.nextNode!==this._temp)this._temp=this._temp.nextNode;else{for(;this._temp.parentNode;)if(this._temp=this._temp.parentNode,this._temp===this._node&&(this._temp=null),this._temp.nextNode!==this._temp)return void(this._temp=this._temp.nextNode);this._temp=null}},t.prototype.getCurrent=function(){return this._temp},t.prototype.end=function(){return!this._temp},t}();FWSData.NodeEnumrator=NodeEnumrator;var Stack=function(){function r(){this._list=new Array}return r.prototype.getEnumerator=function(){return new StackEnumrator(this)},r.prototype.clone=function(t){for(var e=new r,n=0;n<this._list.length;n++)e.add(this._list[n]);return e},r.prototype.clear=function(){this._list.splice(0,this._list.length)},r.prototype.add=function(t){return this._list.push(t),t},r.prototype.remove=function(){return 0<this._list.length?this._list.pop():null},r.prototype.toArray=function(t){return void 0===t&&(t=!0),t?this._list.slice(0):this._list},r.prototype.indexOf=function(t){return this._list.indexOf(t)},r.prototype.toString=function(){return"Stack["+this._list.toString()+"]"},Object.defineProperty(r.prototype,"current",{get:function(){return 0<this._list.length?this._list[this._list.length-1]:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),r}();FWSData.Stack=Stack;var StackEnumrator=function(){function t(t){this._index=0,this._stack=t,this.reset()}return t.prototype.reset=function(){this._temp=this._stack.toArray(),this._index=this._temp.length-1},t.prototype.moveNext=function(){this._index--},t.prototype.getCurrent=function(){return 0<=this._index&&this._index<this._temp.length?this._temp[this._index]:null},t.prototype.end=function(){return this._index>=this._temp.length||this._index<0},t}();FWSData.StackEnumrator=StackEnumrator;var Ring=function(){function r(){this._list=new Array}return r.prototype.clone=function(t){var e=new r;e.count=this.count;for(var n=0;n<this._list.length;n++)e.set(this._list[n],n);return e},r.prototype.getEnumerator=function(){return new RingEnumrator(this)},r.prototype.getIndex=function(t,e){for(var n=t+e;n<0;)n+=this._list.length;return n%=this._list.length},r.prototype.clear=function(){if(0!==this._list.length){for(var t=0;t<this._list.length;t++)this._list[t]=null;getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Clear,this,0,null,null))}},r.prototype.get=function(t,e){void 0===e&&(e=0);var n=this.getIndex(t,e);return this._list[n]},r.prototype.set=function(t,e,n){void 0===n&&(n=0);var r=this.getIndex(e,n),o=this._list[r];o!==t&&(this._list[r]=t,getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Modify,this,e,t,o)))},Object.defineProperty(r.prototype,"count",{get:function(){return this._list.length},set:function(t){var e=t-this._list.length;if(0!==e)if(0<e)for(var n=0;n<e;n++)this._list.push(null),getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Add,this,this._list.length-1,null,null));else{e=Math.abs(e);for(n=0;n<e;n++){var r=this._list.length-1,o=this._list.pop();getDataBindManager().distEvent(new DataListChangeEventArgs(this,DataCollectionChangeType.Remove,this,r,null,o))}}},enumerable:!0,configurable:!0}),r}();FWSData.Ring=Ring;var RingEnumrator=function(){function t(t){this._ring=t,this.reset()}return t.prototype.reset=function(){this._index=0},t.prototype.moveNext=function(){this._index++},t.prototype.getCurrent=function(){return this._ring.get(this._index,this._offset)},t.prototype.end=function(){return this._ring.count<=0||this._index>=this._ring.count},Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){if(this._ring.count<=0)return 0;var t=this._index+this._offset;return t%=this._ring.count},enumerable:!0,configurable:!0}),t}(),CompareResult,Te;function foreach(t,e,n){if(t&&e){var r=t.getEnumerator();if(r)for(;!r.end();){var o=r.getCurrent();if(e.call(n,o))break;r.moveNext()}}}FWSData.RingEnumrator=RingEnumrator,Te=CompareResult=FWSData.CompareResult||(FWSData.CompareResult={}),Te[Te.LESS=-1]="LESS",Te[Te.EQUAL=0]="EQUAL",Te[Te.GREATER=1]="GREATER",FWSData.foreach=foreach}(FWSData||(FWSData={})),module.exports=FWSData,cc._RF.pop()},{}],FWSEnv:[function(t,e,n){"use strict";var r,o;cc._RF.push(e,"bb175f/FydMlYQk1mzCYMzo","FWSEnv"),(o=r||(r={})).PROD=!1,o.API_BASE_URL=(o.PROD,""),o.WS_BASE_URL=(o.PROD,""),o.DEBUG=!1,o.SIMULATOR=!0,o.EDITOR=!1,o.DEBUG_ADVANCED=o.DEBUG&&o.SIMULATOR&&!0,o.DEBUG_MVC_TRACE=o.DEBUG&&!0,o.DEBUG_CONTEXT_TRACE=o.DEBUG&&!1,o.DEBUG_WEBCLIENT_TRACE=o.DEBUG&&!1,e.exports=r,cc._RF.pop()},{}],FWSMvc:[function(t,e,n){"use strict";cc._RF.push(e,"7de0axu3EdDGZ9RuPPl6lNK","FWSMvc");var r,s=t("../data/FWSData"),p=t("../utils/X"),h=t("../FWSEnv");(function(l){l.MVC_CONTEXT_TRY_CATCH=!0;var a=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._id=t,this._mods=new Array}return t.prototype.initMessageConnections=function(t){this._mods.splice(0,this._mods.length);for(var e=0;e<t.length;e++)this._mods.push(t[e])},t.prototype.onEnterContext=function(){for(var t=0;t<this._mods.length;t++){var e=this._mods[t];if(e.messageConnectionActived)p.warn("(onEnterContext) IFMessageConnection::messageConnectionActived !");else if(l.MVC_CONTEXT_TRY_CATCH)try{e.onEnterContextMember()}catch(t){p.error(t)}else e.onEnterContextMember()}},t.prototype.onLeaveContext=function(){for(var t=0;t<this._mods.length;t++){var e=this._mods[t];if(l.MVC_CONTEXT_TRY_CATCH)try{e.onLeaveContextMember()}catch(t){p.error(t)}else e.onLeaveContextMember()}},t.prototype.setModules=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)this._mods.push(t[n])},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t}();l.FContext=a;var t=function(){function t(){if(t._contextManager)throw"FContextManager被设计为单例, 不能创建多个实例";this._history=new s.Stack}return t.prototype.init=function(t){this._root=t},t.prototype.goto=function(t,e){if(void 0===e&&(e=!0),t&&t.rootNode===this._root&&t!==this._current){var n=null;if(this._current){n=this._current.getParentByOtherNode(t);for(var r=this._current.getParentNodes(),o=r.length-1;0<=o;o--){var i=r[o];if(i===n)break;if(h.DEBUG_CONTEXT_TRACE&&p.log("(Context) onLeaveContext",i.path),l.MVC_CONTEXT_TRY_CATCH)try{i.data.onLeaveContext()}catch(t){p.error(t)}else i.data.onLeaveContext()}}var a=!1,s=t.getParentNodes(),u=!0;n&&(u=!1);for(o=0;o<s.length;o++){var c=s[o];if(u)if(h.DEBUG_CONTEXT_TRACE&&p.log("(Context) onEnterContext",c.path),l.MVC_CONTEXT_TRY_CATCH)try{c.data.onEnterContext()}catch(t){p.error(t)}else c.data.onEnterContext();else if(a){if(c!=n||u)if(h.DEBUG_CONTEXT_TRACE&&p.log("(Context) onEnterContext",c.path),l.MVC_CONTEXT_TRY_CATCH)try{c.data.onEnterContext()}catch(t){p.error(t)}else c.data.onEnterContext()}else c===n&&(a=!0)}this._current=t,e?(this._history.add(t),p.log("blue","Context goto",t.path)):p.log("blue","Context goto(no history)",t.path),this.onContextChanged&&this.onContextChanged(t.id)}},t.prototype.gotoID=function(t){if(this._root){var e=this._root.find(t);this.goto(e)}},t.prototype.checkActived=function(t){if(t&&this._current)for(var e=this._current;e;){if(e===t)return!0;e=e.parentNode}return!1},t.prototype.checkActivedById=function(t){if(this._root){var e=this._root.find(t);return this.checkActived(e)}return!1},t.prototype.back=function(){if(1<this._history.length){this._history.remove();this.goto(this._history.current,!1)}},t.prototype.clearHistory=function(){this._history.clear()},Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),t}();l.ContextManager=function(){return t._contextManager||(t._contextManager=new t),t._contextManager};var e=function(){function t(t,e,n){void 0===n&&(n=""),this._key=t,this._queue=n,this._data=e}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._sended=!1,this._completed=!1},t.prototype.send=function(){this._sended||(i().send(this),this._sended=!0)},t.prototype.complete=function(){this._completed||(this._completed=!0,i().complete(this))},Object.defineProperty(t.prototype,"key",{get:function(){return this._key},set:function(t){this._key=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},set:function(t){this._queue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return this._completed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sended",{get:function(){return this._sended},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t=this._key+", ";for(var e in this._data){var n=this._data[e];n=null===n?"null":void 0===n?"undefined":n.toString(),0<t.length&&(t+=","),t+=e+"="+n}return t},t}();l.FMessage=e;var n=function(){function t(){this._messageConnectionActived=!1}return t.prototype.connect=function(){i().connect(this),this.onConnect()},t.prototype.disconnect=function(){i().disconnect(this),this.onDisconnect()},t.prototype.onConnect=function(){},t.prototype.onDisconnect=function(){},t.prototype.onFMessage=function(t){var e=this["onFMessage_"+t.key];return!!e&&!e.call(this,t)},t.prototype.onEnterContextMember=function(){this._messageConnectionActived=!0,this.connect()},t.prototype.onLeaveContextMember=function(){this._messageConnectionActived=!1,this.disconnect()},Object.defineProperty(t.prototype,"messageConnectionActived",{get:function(){return this._messageConnectionActived},enumerable:!0,configurable:!0}),t}();l.FMessageConnectionAbstract=n;var r=function(){function t(t){this._owner=t}return t.prototype.connect=function(){i().connect(this),this.onConnect()},t.prototype.disconnect=function(){i().disconnect(this),this.onDisconnect()},t.prototype.onConnect=function(){},t.prototype.onDisconnect=function(){},t.prototype.onFMessage=function(t){var e="onFMessage_"+t.key,n=this._owner[e];return!!n&&!n.call(this._owner,t)},t.prototype.onEnterContextMember=function(){this._messageConnectionActived=!0,this.connect()},t.prototype.onLeaveContextMember=function(){this._messageConnectionActived=!1,this.disconnect()},Object.defineProperty(t.prototype,"messageConnectionActived",{get:function(){return this._messageConnectionActived},enumerable:!0,configurable:!0}),t}();l.FMessageConnectionDelegate=r;var o=function(){function t(){if(t._router)throw"FMessageRouter被设计为单例, 不能创建多个实例";this._queues=new s.Dict,this._connections=new s.List}return t.prototype.createQueue=function(t){this._queues.containKey(t)||this._queues.setItem(t,new s.Queue)},t.prototype.removeQueue=function(t){this._queues.containKey(t)&&this._queues.deleteKey(t)},t.prototype.removeAllQueues=function(){this._queues.clear()},t.prototype.getQueue=function(t){return this._queues.containKey(t)?this._queues.getItem(t):null},t.prototype.clearQueueMessages=function(t){p.log("FMessage","clearQueueMessages",t),this._queues.containKey(t)&&this._queues.getItem(t).clear()},t.prototype.clearAllQueueMessages=function(){for(var t=this._queues.keys,e=0;e<t.length;e++){var n=t[e];this._queues.getItem(n).clear()}},t.prototype.connect=function(t){0<=this._connections.indexOf(t)||this._connections.add(t)},t.prototype.disconnect=function(t){0<=this._connections.indexOf(t)&&this._connections.remove(t)},t.prototype.disconnectAll=function(){this._connections.clear()},t.prototype.send=function(t){if(!t.sended)if(h.DEBUG_MVC_TRACE&&p.log("(FMessage)发送",t.queue,t),this._queues.containKey(t.queue)){var e=this._queues.getItem(t.queue);e.add(t),1===e.length?this.push(t):l.Router().update()}else this.push(t)},t.prototype.push=function(t){h.DEBUG_MVC_TRACE&&p.log("(FMessage)推送",t.queue,t);for(var e=this._connections.toArray(),n=0,r=0;r<e.length;r++){var o=e[r];try{o.onFMessage(t)&&(n++,t.queue&&0<t.queue.length&&h.DEBUG_MVC_TRACE&&p.log("(FMessage)处理",o))}catch(t){}}0===n&&(h.DEBUG_MVC_TRACE&&p.log("(FMessage)自动完成",t.queue,t),t.complete())},t.prototype.complete=function(t){0<=this._queues.keys.indexOf(t.queue)&&h.DEBUG_MVC_TRACE&&p.log("(FMessage)完成",t.queue,t),l.Router().update()},t.prototype.update=function(){for(var t=this._queues.keys,e=0;e<t.length;e++){var n=t[e],r=this._queues.getItem(n);r.current&&r.current.completed&&(r.remove(),r.current&&i().push(r.current))}},t}();function i(){return o._router||(o._router=new o),o._router}l.Router=i,l.createContext=function(t,e){void 0===e&&(e=null);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=new s.Node(t);o.data=new a(t);for(var i=0;i<n.length;i++)o.data.setModules(n[i]);return e&&e.add(o),o}})(r||(r={})),e.exports=r,cc._RF.pop()},{"../FWSEnv":"FWSEnv","../data/FWSData":"FWSData","../utils/X":"X"}],HttpUtils:[function(t,e,n){"use strict";var r;cc._RF.push(e,"3ef95nVr/BNIYE5BAEOgGL0","HttpUtils"),function(e){var o=/^(http|https):\/\/([^\/\:]+)(:\d+)?([^\?\#]*)(\?[^#]*)?(#[^\r\n]*)?$/;function i(t,e,n){var r=t+"";return e?null==n?r:(0<r.length&&(r+="&"),r+=encodeURIComponent(e),r+="=",r+=encodeURIComponent(n.toString())):r}function n(t){var e="";if(t&&"object"==typeof t)for(var n in t){var r=t[n];e=i(e,n.toString(),r)}return e}e.addParam=i,e.getParams=n,e.isUrl=function(t){return"about:blank"===t.toLowerCase()||o.test(t)};var t=function(){function t(t,e){this._scheme="",this._host="",this._port=0,this._path="",this._query="",this._anchor="",this.parse(t,e)}return t.isUrl=function(t){return e.isUrl(t)},t.prototype.parse=function(t,e){if(t){var n=t;if(e&&0<e.length&&(n="/"===e.substr(e.length-1,1)||"/"===t.substr(0,1)?e+t:e+"/"+t),o.test(n)){var r=o.exec(n);this._scheme=r[1]?r[1]:"",this._host=r[2]?r[2]:"",r[3]&&1<r[3].length?this._port=parseInt(r[3].substr(1)):this._port=0,this._path=r[4]?r[4]:"",r[5]&&1<r[5].length?this._query=r[5].substr(1):this._query="",r[6]&&1<r[6].length?this._anchor=r[6].substr(1):this._anchor=""}}},t.prototype.addQueryParam=function(t,e){this._query=i(this._query,t,e)},t.prototype.addAnchorParam=function(t,e){this._anchor=i(this._anchor,t,e)},t.prototype.setQueryParams=function(t){this._query=n(t)},t.prototype.setAnchorParams=function(t){this._anchor=n(t)},t.prototype.toString=function(){var t="";return t+=this._scheme+"://",t+=this._host,0<this._port&&(t+=":"+this._port.toString()),t+=this._path,this._query&&0<this._query.length&&(t+="?"+this._query),this._anchor&&0<this._anchor.length&&(t+="#"+this._anchor),t},Object.defineProperty(t.prototype,"scheme",{get:function(){return this._scheme},set:function(t){this._scheme=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this._port},set:function(t){this._port=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"query",{get:function(){return this._query},set:function(t){this._query=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor=t},enumerable:!0,configurable:!0}),t}();e.URL=t}(r||(r={})),e.exports=r,cc._RF.pop()},{}],TestScene:[function(t,e,n){"use strict";cc._RF.push(e,"13387s2eoBPyZXhDh6V6Ahv","TestScene"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,t("../../fws/utils/X")),a=t("../../fws/display/FWSComponent"),s=t("../../fws/net/WebClient"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){s.get("https://www.baidu.com",{},this,function(t){i.log("success",t)},function(t){i.log("fail",t)})},e=__decorate([o],e)}(a.default);n.default=u,cc._RF.pop()},{"../../fws/display/FWSComponent":"FWSComponent","../../fws/net/WebClient":"WebClient","../../fws/utils/X":"X"}],WebClient:[function(t,e,n){"use strict";cc._RF.push(e,"71519x7ShlO4qzTFQMuJnLw","WebClient");var r,u,c=t("../utils/HttpUtils"),l=t("../FWSEnv");(u=r||(r={})).GET_OVERTIME=5e3,u.POST_OVERTIME=1e4,u.uriChecker=function(t,e){if(!e)return t;e.time=(new Date).getTime();var n=t+"";n.indexOf("?")<0&&(n+="?");for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],a=e[i];n+="&"+i+"="+(a=encodeURIComponent(a))}return n},u.postChecker=function(t){if("object"!=typeof t)return"";var e=new Array,n=0;for(var r in t)e[n]=r+"="+encodeURIComponent(t[r]),n++;return e.join("&")},u.get=function(t,e,n,r,o){c.URL.isUrl(t)||(t=l.API_BASE_URL+t);var i=new XMLHttpRequest,a=u.uriChecker?u.uriChecker(t,e):t;i.open("GET",a),i.timeout=u.GET_OVERTIME,i.setRequestHeader("content-type","text/plain;charset=UTF-8"),i.onerror=i.ontimeout=function(){4!==i.readyState&&o&&o.call(n,i)},i.onreadystatechange=function(){4===i.readyState&&(200<=i.status&&i.status<300||304==i.status?r&&r.call(n,i):o&&o.call(n,i))},i.send()},u.post=function(t,e,n,r,o,i){c.URL.isUrl(t)||(t=l.API_BASE_URL+t);var a=new XMLHttpRequest,s=u.uriChecker?u.uriChecker(t,e):t;a.open("POST",s,!0),a.timeout=u.POST_OVERTIME,a.setRequestHeader("content-type","application/x-www-form-urlencoded"),a.onerror=a.ontimeout=function(){4!==a.readyState&&i&&i.call(r,a)},a.onreadystatechange=function(){4==a.readyState&&(200<=a.status&&a.status<300||304==a.status?o&&o.call(r,a):i&&i.call(r,a))},u.postChecker&&(n=u.postChecker(n)),a.send(n)},e.exports=r,cc._RF.pop()},{"../FWSEnv":"FWSEnv","../utils/HttpUtils":"HttpUtils"}],X:[function(t,e,n){"use strict";cc._RF.push(e,"f79c0qbYytCXaC+IbEdViLZ","X");var r,i=t("../FWSEnv");(function(t){function o(t){var e=[];if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];null===r?e.push("NULL"):void 0===r?e.push("UNDEFINED"):e.push(r.toString())}return e.join(" ")}function n(t,e){var n=console[t];n&&(i.DEBUG_ADVANCED?n.apply(null,e):n.call(null,o(e)))}t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG&&n("log",t)},t.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG&&n("info",t)},t.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG&&n("warn",t)},t.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG&&n("error",t)},t.color=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i.DEBUG_ADVANCED){var r=o(e);console.log("%c"+r,"color:"+t)}},t.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG_ADVANCED&&console.group.apply(null,t)},t.groupCollapsed=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG_ADVANCED&&console.groupCollapsed.apply(null,t)},t.groupEnd=function(){i.DEBUG_ADVANCED&&console.groupEnd()},t.table=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG_ADVANCED&&console.table.apply(null,t)},t.time=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG_ADVANCED&&console.time()},t.timeEnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG_ADVANCED&&console.timeEnd()},t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.DEBUG_ADVANCED&&console.trace.apply(null,t)}})(r||(r={})),window.X=r,e.exports=r,cc._RF.pop()},{"../FWSEnv":"FWSEnv"}]},{},["FWSEnv","FWSData","FWSComponent","FWSMvc","WebClient","HttpUtils","X","TestScene"]);
//# sourceMappingURL=project.js.map